<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mock Auth - Dev Testing</title>
    <link rel="stylesheet" href="/css/style.css" />
    <style>
      .mock-auth-container {
        max-width: 600px;
        margin: 50px auto;
        padding: 30px;
        background: #f5f5f5;
        border-radius: 8px;
      }
      .mock-auth-container h1 {
        color: #d63;</title>
        margin-bottom: 10px;
      }
      .warning {
        background: #fff3cd;
        border: 2px solid #ffc107;
        padding: 15px;
        border-radius: 4px;
        margin: 20px 0;
      }
      .button-group {
        display: flex;
        gap: 15px;
        margin: 20px 0;
      }
      .mock-button {
        flex: 1;
        padding: 20px;
        font-size: 16px;
        font-weight: bold;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
      }
      .employee-btn {
        background: #28a745;
        color: white;
      }
      .employee-btn:hover {
        background: #218838;
      }
      .customer-btn {
        background: #007bff;
        color: white;
      }
      .customer-btn:hover {
        background: #0069d9;
      }
      .info-box {
        background: white;
        padding: 15px;
        border-radius: 4px;
        margin-top: 20px;
      }
      .info-box h3 {
        margin-top: 0;
      }
      .info-box ul {
        margin: 10px 0;
        padding-left: 20px;
      }
    </style>
  </head>

  <body>
    <header class="divider" id="main-header"></header>

    <main class="divider">
      <div class="mock-auth-container">
        <h1>üîß Mock Authentication (Dev Only)</h1>

        <div class="warning">
          <strong>‚ö†Ô∏è Development Tool Only</strong>
          <p>
            This page sets mock authentication tokens to bypass login for
            testing. Only use this in development!
          </p>
        </div>

        <p>
          Click a button below to set a mock authentication token and test the
          orders page:
        </p>

        <div class="button-group">
          <button id="employee-btn" class="mock-button employee-btn">
            üëî Login as Employee
            <br /><small>admin@example.com</small>
          </button>

          <button id="customer-btn" class="mock-button customer-btn">
            üë§ Login as Customer
            <br /><small>customer@example.com</small>
          </button>
        </div>

        <div class="info-box">
          <h3>How to Use:</h3>
          <ol>
            <li>Click "Login as Employee" or "Login as Customer"</li>
            <li>You'll be redirected to the orders page</li>
            <li>The page will behave as if you're logged in</li>
            <li>Employee will see all orders (when backend is working)</li>
            <li>Customer will see a "non-employee" message</li>
          </ol>
        </div>

        <div class="info-box">
          <h3>Console Commands:</h3>
          <ul>
            <li><code>mockAuth.setEmployee()</code> - Set employee token</li>
            <li><code>mockAuth.setCustomer()</code> - Set customer token</li>
            <li><code>mockAuth.getTokens()</code> - View mock tokens</li>
          </ul>
        </div>
      </div>
    </main>

    <footer id="main-footer"></footer>

    <script type="module">
      import {
        setMockEmployeeAuth,
        setMockCustomerAuth,
      } from "../js/mockAuth.mjs";
      import { loadHeaderFooter } from "../js/utils.mjs";

      loadHeaderFooter();

      document.getElementById("employee-btn").addEventListener("click", () => {
        setMockEmployeeAuth();
        alert("‚úÖ Employee token set!\n\nRedirecting to orders page...");
        window.location.href = "/orders/";
      });

      document.getElementById("customer-btn").addEventListener("click", () => {
        setMockCustomerAuth();
        alert("‚úÖ Customer token set!\n\nRedirecting to orders page...");
        window.location.href = "/orders/";
      });
    </script>
  </body>
</html>
